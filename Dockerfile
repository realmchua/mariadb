########################################################################################################
# ██████╗░███████╗░█████╗░██╗░░░░░███╗░░░███╗██╗░██████╗  ░█████╗░██╗░░░░░██████╗░██╗███╗░░██╗███████╗ #
# ██╔══██╗██╔════╝██╔══██╗██║░░░░░████╗░████║╚█║██╔════╝  ██╔══██╗██║░░░░░██╔══██╗██║████╗░██║██╔════╝ #
# ██████╔╝█████╗░░███████║██║░░░░░██╔████╔██║░╚╝╚█████╗░  ███████║██║░░░░░██████╔╝██║██╔██╗██║█████╗░░ #
# ██╔══██╗██╔══╝░░██╔══██║██║░░░░░██║╚██╔╝██║░░░░╚═══██╗  ██╔══██║██║░░░░░██╔═══╝░██║██║╚████║██╔══╝░░ #
# ██║░░██║███████╗██║░░██║███████╗██║░╚═╝░██║░░░██████╔╝  ██║░░██║███████╗██║░░░░░██║██║░╚███║███████╗ #
# ╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚══════╝╚═╝░░░░░╚═╝░░░╚═════╝░  ╚═╝░░╚═╝╚══════╝╚═╝░░░░░╚═╝╚═╝░░╚══╝╚══════╝ #
#                                                                                                      #
# ███╗░░░███╗░█████╗░██████╗░██╗░█████╗░██████╗░██████╗░  ░██████╗░██████╗░██╗░░░░░                    #
# ████╗░████║██╔══██╗██╔══██╗██║██╔══██╗██╔══██╗██╔══██╗  ██╔════╝██╔═══██╗██║░░░░░                    #
# ██╔████╔██║███████║██████╔╝██║███████║██║░░██║██████╦╝  ╚█████╗░██║██╗██║██║░░░░░                    #
# ██║╚██╔╝██║██╔══██║██╔══██╗██║██╔══██║██║░░██║██╔══██╗  ░╚═══██╗╚██████╔╝██║░░░░░                    #
# ██║░╚═╝░██║██║░░██║██║░░██║██║██║░░██║██████╔╝██████╦╝  ██████╔╝░╚═██╔═╝░███████╗                    #
# ╚═╝░░░░░╚═╝╚═╝░░╚═╝╚═╝░░╚═╝╚═╝╚═╝░░╚═╝╚═════╝░╚═════╝░  ╚═════╝░░░░╚═╝░░░╚══════╝        Realm Chua  #
########################################################################################################

########## System Setting

From realmsg/alpine:stable

VOLUME ["/sys/fs/cgroup"]
VOLUME ["/config", "/work", "/logs"]

ENV container=docker
ENV TIMEZONE="Asia/Singapore"
ARG VERSION
ARG BUILD_DATE

RUN echo '@edge http://dl-cdn.alvpinelinux.org/alpine/edge/main' >>/etc/apk/repositories

########## Maintainer Information
LABEL cloud.mylinuxbox.vendor="Realm Chua" \
      cloud.mylinuxbox.version=${VERSION} \
      cloud.mylinuxbox.build-date=${BUILD_DATE}

########## Dockerfile
RUN apk add --no-cache mysql \
    mysql-client

RUN rm -rf /var/cache/apk/*

RUN /etc/init.d/mariadb setup

STOPSIGNAL SIGTERM

CMD ["bash"]
